(function(){"use strict";var e={5712:function(e,t,n){var i=n(5130),a=n(6768);const o={class:"main_wrapper"};function l(e,t,n,i,l,r){const c=(0,a.g2)("MainHeader"),_=(0,a.g2)("TopPage");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(c),(0,a.bF)(_)])}var r=n(4232);const c={class:"header"},_=(0,a.Lk)("h1",null,"facet契約管理画面",-1),s={id:"basicLoginUser"};function d(e,t,n,i,o,l){return(0,a.uX)(),(0,a.CE)("div",c,[_,(0,a.Lk)("h3",null,[(0,a.eW)("ログイン「"),(0,a.Lk)("span",s,(0,r.v_)(o.user),1),(0,a.eW)("」")])])}const u=n(6425);var f={data(){return{user:""}},mounted(){console.log(location.host),u.get(location.origin+"/server/backend/basic").then((e=>this.user=e.data))}},m=n(1241);const p=(0,m.A)(f,[["render",d]]);var v=p;const k=e=>((0,a.Qi)("data-v-5b183d96"),e=e(),(0,a.jt)(),e),y={action:"#",name:"facet_admin_form"},g={class:"main_content"},x=k((()=>(0,a.Lk)("h2",null,"テナント",-1))),h={class:"form_wrapper"},L={class:"flex_box"},C={class:"form_container"},X=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("テナント選択"),(0,a.Lk)("span",{class:"required"},"*")],-1))),E=k((()=>(0,a.Lk)("option",{value:""},null,-1))),w=["value"],b={key:0,class:"type_select_wrapper"},W=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("区分"),(0,a.Lk)("span",{class:"required"},"*")],-1))),I={class:"type_select_container"},Q={class:"type_select_box"},A=k((()=>(0,a.Lk)("label",null,"追加",-1))),P={class:"type_select_box"},j=k((()=>(0,a.Lk)("label",null,"更新",-1))),B={class:"type_select_box"},T=k((()=>(0,a.Lk)("label",null,"削除",-1))),O={class:"type_select_box"},M=k((()=>(0,a.Lk)("label",{style:{"font-size":"1rem"}},"初期化",-1))),U={key:0},N=k((()=>(0,a.Lk)("h2",null,"契約関連",-1))),$={class:"form_wrapper"},q={key:0,class:"form_container"},D=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("契約名"),(0,a.Lk)("span",{class:"required"},"*")],-1))),F=k((()=>(0,a.Lk)("option",{value:""},null,-1))),S=["value"],V={key:1,class:"form_container"},K=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("契約名"),(0,a.Lk)("span",{class:"required"},"*")],-1))),G=k((()=>(0,a.Lk)("input",{type:"text",name:"contractor_name",class:"main_text"},null,-1))),z=[K,G],H={key:2,class:"form_container"},Y=k((()=>(0,a.Lk)("h3",null,"ds-api-token",-1))),J=["value"],R={key:3,class:"flex_box"},Z={class:"form_container relative"},ee=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("接続デバイス上限数"),(0,a.Lk)("span",{class:"required"},"*")],-1))),te={key:0,type:"number",name:"allow_device_num"},ne=["value"],ie=["value"],ae={class:"allow_device"},oe={class:"allow_device_count"},le={key:4,class:"form_container"},re=k((()=>(0,a.Lk)("h3",null,"サブドメイン",-1))),ce={key:0,type:"text",name:"domain",class:"main_text"},_e=["value"],se=["value"],de={key:5,class:"check_container"},ue=k((()=>(0,a.Lk)("h3",null,"APB 機能",-1))),fe={key:0,class:"ckeck_box"},me=k((()=>(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"checkbox",id:"checkAPB",name:"apb_mode_flag"}),(0,a.Lk)("label",{for:"checkAPB"})],-1))),pe=[me],ve={key:1,class:"ckeck_box"},ke=["checked"],ye=k((()=>(0,a.Lk)("label",{for:"checkAPB"},null,-1))),ge={key:6,class:"flex_box"},xe={class:"check_container"},he=k((()=>(0,a.Lk)("h3",null,"入退管理 機能",-1))),Le={key:0,class:"ckeck_box"},Ce=k((()=>(0,a.Lk)("label",{for:"checkEE"},null,-1))),Xe={key:1,class:"ckeck_box"},Ee=["checked"],we=k((()=>(0,a.Lk)("label",{for:"checkEE"},null,-1))),be={key:0,class:"ee_desc_box",id:"eeDescBox"},We={key:0,type:"text",name:"ee_description_name_1",class:"sub_text",placeholder:"備考名1"},Ie=["value"],Qe=["value"],Ae={key:3,type:"text",name:"ee_description_name_2",class:"sub_text",placeholder:"備考名2"},Pe=["value"],je=["value"],Be={key:7,class:"form_container"},Te=k((()=>(0,a.Lk)("h3",null,"IP制限（API）",-1))),Oe={key:0,type:"text",name:"api_allow_ip",class:"main_text",rows:"3"},Me=["value"],Ue=["value"],Ne={key:8,class:"form_container"},$e=k((()=>(0,a.Lk)("h3",null,"トライアル期間（終了日時）",-1))),qe={key:0,type:"datetime-local",name:"trial_limit",class:"main_text"},De=["value"],Fe=["value"],Se={key:0},Ve={key:1,class:"form_wrapper"},Ke={class:"form_container"},Ge=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("管理者ログインID"),(0,a.Lk)("span",{class:"required"},"*")],-1))),ze=["value"],He={key:1,type:"text",name:"login_id",class:"main_text"},Ye={key:0,class:"form_container"},Je=k((()=>(0,a.Lk)("h3",null,[(0,a.eW)("管理者ログイン名"),(0,a.Lk)("span",{class:"required"},"*")],-1))),Re=k((()=>(0,a.Lk)("input",{type:"text",name:"user_name",class:"main_text"},null,-1))),Ze=[Je,Re],et={key:1,type:"hidden",name:"user_name"},tt={class:"form_container"},nt=k((()=>(0,a.Lk)("h3",null,"IP制限（GUI）",-1))),it={key:0,type:"text",name:"allow_ips",class:"main_text",rows:"3"},at=["value"],ot=["value"],lt={class:"submit_box"},rt={key:1};function ct(e,t,n,o,l,c){const _=(0,a.g2)("LoadingModal"),s=(0,a.g2)("CurrentModal");return(0,a.uX)(),(0,a.CE)(a.FK,null,[l.loading?((0,a.uX)(),(0,a.Wv)(_,{key:0})):(0,a.Q3)("",!0),(0,a.Lk)("form",y,[l.modal_state?((0,a.uX)(),(0,a.Wv)(s,{key:0,tenantval:l.tenantval,form_infos:l.form_infos,origin_infos:l.origin_infos,count:l.count,users:l.users,onInput:t[0]||(t[0]=e=>l.modal_state=e),onLoading:t[1]||(t[1]=e=>l.loading=e)},null,8,["tenantval","form_infos","origin_infos","count","users"])):(0,a.Q3)("",!0),(0,a.Lk)("div",g,[x,(0,a.Lk)("div",h,[(0,a.Lk)("div",L,[(0,a.Lk)("div",C,[X,(0,a.bo)((0,a.Lk)("select",{name:"tenant",id:"selectTenant","onUpdate:modelValue":t[2]||(t[2]=e=>l.tenantval=e),onChange:t[3]||(t[3]=(...e)=>c.getContractors&&c.getContractors(...e))},[E,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.tenants,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e,key:e},(0,r.v_)(e),9,w)))),128))],544),[[i.u1,l.tenantval]])]),""!==l.tenantval?((0,a.uX)(),(0,a.CE)("div",b,[W,(0,a.Lk)("div",I,[(0,a.Lk)("div",Q,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"fix_type",value:"add","onUpdate:modelValue":t[4]||(t[4]=e=>l.type=e),onChange:t[5]||(t[5]=e=>c.valueInit(!0))},null,544),[[i.XL,l.type]]),A]),(0,a.Lk)("div",P,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"fix_type",value:"edit","onUpdate:modelValue":t[6]||(t[6]=e=>l.type=e),onChange:t[7]||(t[7]=e=>c.valueInit(!0))},null,544),[[i.XL,l.type]]),j]),(0,a.Lk)("div",B,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"fix_type",value:"delete","onUpdate:modelValue":t[8]||(t[8]=e=>l.type=e),onChange:t[9]||(t[9]=e=>c.valueInit(!0))},null,544),[[i.XL,l.type]]),T]),(0,a.Lk)("div",O,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"fix_type",value:"init","onUpdate:modelValue":t[10]||(t[10]=e=>l.type=e),onChange:t[11]||(t[11]=e=>c.valueInit(!0))},null,544),[[i.XL,l.type]]),M])])])):(0,a.Q3)("",!0)])]),""!==l.tenantval&&""!==l.type?((0,a.uX)(),(0,a.CE)("div",U,[N,(0,a.Lk)("div",$,["edit"===l.type||"delete"===l.type||"init"===l.type?((0,a.uX)(),(0,a.CE)("div",q,[D,(0,a.Lk)("select",{name:"contractor_id",class:"main_text",onChange:t[12]||(t[12]=(...e)=>c.selectContractor&&c.selectContractor(...e))},[F,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.contractors,(e=>((0,a.uX)(),(0,a.CE)("option",{value:e.contractor_id,key:e.contractor_id},(0,r.v_)(e.contractor_name),9,S)))),128))],32)])):((0,a.uX)(),(0,a.CE)("div",V,z)),"edit"===l.type&&null!=l.contractor&&"admin"==c.confirmPermission()?((0,a.uX)(),(0,a.CE)("div",H,[Y,(0,a.Lk)("input",{type:"text",value:l.contractor.api_token,class:"main_text",readonly:"",style:{"font-size":"0.5rem"}},null,8,J)])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",R,[(0,a.Lk)("div",Z,[ee,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",te)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:1,type:"number",name:"allow_device_num",value:l.form_infos.allow_device_num},null,8,ne)):((0,a.uX)(),(0,a.CE)("input",{key:2,type:"number",name:"allow_device_num",value:l.contractor.allow_device_num},null,8,ie)),(0,a.Lk)("p",ae,[(0,a.eW)("※"+(0,r.v_)(l.tenantval)+"の合計接続台数[ ",1),(0,a.Lk)("span",oe,(0,r.v_)(l.count),1),(0,a.eW)(" ]")])])])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",le,[re,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",ce)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:1,type:"text",name:"domain",class:"main_text",value:l.form_infos.domain},null,8,_e)):((0,a.uX)(),(0,a.CE)("input",{key:2,type:"text",name:"domain",class:"main_text",value:l.contractor.domain},null,8,se))])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",de,[ue,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("div",fe,pe)):((0,a.uX)(),(0,a.CE)("div",ve,[(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"checkbox",id:"checkAPB",name:"apb_mode_flag",checked:l.contractor.apb_mode_flag},null,8,ke),ye])]))])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",ge,[(0,a.Lk)("div",xe,[he,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("div",Le,[(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"checkbox",id:"checkEE",name:"ee_mode_flag",onChange:t[13]||(t[13]=(...e)=>c.changeEEStatus&&c.changeEEStatus(...e))},null,32),Ce])])):((0,a.uX)(),(0,a.CE)("div",Xe,[(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"checkbox",id:"checkEE",name:"ee_mode_flag",checked:l.contractor.enter_exit_mode_flag,onChange:t[14]||(t[14]=(...e)=>c.changeEEStatus&&c.changeEEStatus(...e))},null,40,Ee),we])]))]),l.ee_flag?((0,a.uX)(),(0,a.CE)("div",be,["edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",We)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:1,type:"text",name:"ee_description_name_1",class:"sub_text",placeholder:"備考名1",value:l.form_infos.ee_desc_1},null,8,Ie)):((0,a.uX)(),(0,a.CE)("input",{key:2,type:"text",name:"ee_description_name_1",class:"sub_text",placeholder:"備考名1",value:l.contractor.enter_exit_description_name1},null,8,Qe)),"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",Ae)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:4,type:"text",name:"ee_description_name_2",class:"sub_text",placeholder:"備考名2",value:l.form_infos.ee_desc_2},null,8,Pe)):((0,a.uX)(),(0,a.CE)("input",{key:5,type:"text",name:"ee_description_name_2",class:"sub_text",placeholder:"備考名2",value:l.contractor.enter_exit_description_name2},null,8,je))])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",Be,[Te,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("textarea",Oe)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("textarea",{key:1,type:"text",name:"api_allow_ip",class:"main_text",value:l.form_infos.api_allow_ip,rows:"3"},null,8,Me)):((0,a.uX)(),(0,a.CE)("textarea",{key:2,type:"text",name:"api_allow_ip",class:"main_text",value:l.contractor.api_allow_ip,rows:"3"},null,8,Ue))])):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",Ne,[$e,"edit"!==l.type||null==l.contractor?((0,a.uX)(),(0,a.CE)("input",qe)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("input",{key:1,type:"datetime-local",name:"trial_limit",class:"main_text",value:c.datetimeConversion(l.form_infos.trial_limit,"value")},null,8,De)):((0,a.uX)(),(0,a.CE)("input",{key:2,type:"datetime-local",name:"trial_limit",class:"main_text",value:c.datetimeConversion(l.contractor.trial_limit,"value")},null,8,Fe))])):(0,a.Q3)("",!0)]),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("h2",Se,"ログイン情報")):(0,a.Q3)("",!0),"delete"!==l.type&&"init"!==l.type?((0,a.uX)(),(0,a.CE)("div",Ve,[(0,a.Lk)("div",Ke,[Ge,"add"!==l.type?((0,a.uX)(),(0,a.CE)("input",{key:0,type:"text",name:"login_id",class:"main_text disable_content",value:l.login_id},null,8,ze)):((0,a.uX)(),(0,a.CE)("input",He))]),"add"===l.type?((0,a.uX)(),(0,a.CE)("div",Ye,Ze)):((0,a.uX)(),(0,a.CE)("input",et)),(0,a.Lk)("div",tt,[nt,"edit"!==l.type||l.user==[]?((0,a.uX)(),(0,a.CE)("textarea",it)):null!==l.form_infos?((0,a.uX)(),(0,a.CE)("textarea",{key:1,type:"text",name:"allow_ips",class:"main_text",value:l.form_infos.allow_ips,rows:"3"},null,8,at)):((0,a.uX)(),(0,a.CE)("textarea",{key:2,type:"text",name:"allow_ips",class:"main_text",value:l.user.allow_ips,rows:"3"},null,8,ot))])])):(0,a.Q3)("",!0),(0,a.Lk)("div",lt,[(0,a.Lk)("div",{class:"btn",onClick:t[15]||(t[15]=(...e)=>c.openModal&&c.openModal(...e))},"内容確認")])])):((0,a.uX)(),(0,a.CE)("div",rt))])])],64)}const _t={class:"modal_container"},st={class:"modal_box"},dt=(0,a.Lk)("th",null,"テナント",-1),ut={class:"td_center"},ft={key:0,width:"5%"},mt=(0,a.Lk)("th",null,"区分",-1),pt={class:"td_center"},vt={key:0,width:"5%"},kt=(0,a.Lk)("th",null,"契約名",-1),yt={class:"td_center"},gt={key:0,class:"td_judge"},xt={class:"error_detail"},ht=(0,a.Lk)("th",null,"接続デバイス上限数",-1),Lt={key:0,class:"td_center"},Ct={key:1,class:"td_center"},Xt={key:2,class:"td_judge"},Et={class:"error_detail"},wt=(0,a.Lk)("th",null,"サブドメイン",-1),bt={key:0,class:"td_center"},Wt={key:1,class:"td_center"},It={key:2,class:"td_judge"},Qt={class:"error_detail"},At=(0,a.Lk)("th",null,"APB 機能",-1),Pt={key:0,class:"td_center"},jt={key:1,class:"td_center"},Bt={key:2,class:"td_judge"},Tt={class:"error_detail"},Ot=(0,a.Lk)("th",null,"入退管理 機能",-1),Mt={key:0,class:"td_center"},Ut={key:1,class:"td_center"},Nt={key:2,class:"td_center"},$t={key:3,class:"td_judge"},qt={class:"error_detail"},Dt=(0,a.Lk)("th",null,"IP制限（API）",-1),Ft={key:0,class:"font_ip td_center"},St={key:1,class:"font_ip td_center"},Vt={key:2,class:"td_judge"},Kt={class:"error_detail"},Gt=(0,a.Lk)("th",null,"トライアル期間",-1),zt={key:0,class:"td_center"},Ht={key:1,class:"td_center"},Yt={key:2,class:"td_judge"},Jt={class:"error_detail"},Rt=(0,a.Lk)("th",null,"管理者ログインID",-1),Zt={key:0,class:"td_center"},en={key:1,class:"td_center"},tn={key:2,class:"td_judge"},nn={class:"error_detail"},an={key:0},on=(0,a.Lk)("th",null,"管理者ログイン名",-1),ln={key:0,class:"td_center"},rn={key:1,class:"td_center"},cn={key:2,class:"td_judge"},_n={class:"error_detail"},sn=(0,a.Lk)("th",null,"IP制限（GUI）",-1),dn={key:0,class:"font_ip td_center"},un={key:1,class:"font_ip td_center"},fn={key:2,class:"td_judge"},mn={class:"error_detail"};function pn(e,t,n,i,o,l){const c=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.CE)("div",{class:"modal_wrapper",onClick:t[1]||(t[1]=(...e)=>l.modalClose&&l.modalClose(...e))},[(0,a.Lk)("div",_t,[(0,a.Lk)("h2",null,"--- "+(0,r.v_)(l.fixType(n.form_infos.fix_type))+"内容確認画面 ---",1),(0,a.Lk)("div",st,[(0,a.Lk)("table",null,[(0,a.Lk)("tr",null,[dt,(0,a.Lk)("td",ut,(0,r.v_)(n.tenantval),1),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",ft,"-")):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[mt,(0,a.Lk)("td",pt,(0,r.v_)(l.fixType(n.form_infos.fix_type)),1),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",vt,"-")):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[kt,(0,a.Lk)("td",yt,(0,r.v_)(n.form_infos.contractor_name),1),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",gt,[l.validate("null","contractor_name")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("length",["contractor_name",30])?((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_error vali_icon",icon:"circle-xmark"})):((0,a.uX)(),(0,a.Wv)(c,{key:2,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",xt,(0,r.v_)(o.detailList.contractor_name),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[ht,"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Lt,(0,r.v_)(n.form_infos.allow_device_num),1)):((0,a.uX)(),(0,a.CE)("td",Ct,(0,r.v_)(n.origin_infos.allow_device_num),1)),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Xt,[l.validate("null","allow_device_num")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("allow","allow_device_num")?((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("diff","allow_device_num")?((0,a.uX)(),(0,a.Wv)(c,{key:2,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:3,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",Et,(0,r.v_)(o.detailList.allow_device_num),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[wt,"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",bt,(0,r.v_)(n.form_infos.domain),1)):((0,a.uX)(),(0,a.CE)("td",Wt,(0,r.v_)(n.origin_infos.domain),1)),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",It,[l.validate("diff","domain")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",Qt,(0,r.v_)(o.detailList.domain),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[At,"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Pt,(0,r.v_)(n.form_infos.apb_mode_flag?"有効":"無効"),1)):((0,a.uX)(),(0,a.CE)("td",jt,(0,r.v_)(n.origin_infos.apb_mode_flag?"有効":"無効"),1)),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Bt,[l.validate("diff","apb_mode_flag")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",Tt,(0,r.v_)(o.detailList.apb_mode_flag),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[Ot,"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type&&n.form_infos.ee_mode_flag?((0,a.uX)(),(0,a.CE)("td",Mt,[(0,a.eW)(" 有効 "),(0,a.Lk)("div",null,"備考名1["+(0,r.v_)(n.form_infos.ee_desc_1?n.form_infos.ee_desc_1:"備考1")+"] 備考名2["+(0,r.v_)(n.form_infos.ee_desc_2?n.form_infos.ee_desc_2:"備考2")+"]",1)])):"delete"==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type&&n.origin_infos.ee_mode_flag?((0,a.uX)(),(0,a.CE)("td",Ut,[(0,a.eW)(" 有効 "),(0,a.Lk)("div",null,"備考名1["+(0,r.v_)(n.origin_infos.ee_desc_1?n.origin_infos.ee_desc_1:"備考1")+"] 備考名2["+(0,r.v_)(n.origin_infos.ee_desc_2?n.origin_infos.ee_desc_2:"備考2")+"]",1)])):((0,a.uX)(),(0,a.CE)("td",Nt,"無効")),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",$t,[l.validate("diff","ee_mode_flag")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",qt,(0,r.v_)(o.detailList.ee_mode_flag),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[Dt,"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Ft,(0,r.v_)(n.form_infos.api_allow_ip),1)):((0,a.uX)(),(0,a.CE)("td",St,(0,r.v_)(n.origin_infos.api_allow_ip),1)),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Vt,[l.validate("diff","api_allow_ip")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",Kt,(0,r.v_)(o.detailList.api_allow_ip),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[Gt,"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",zt,(0,r.v_)(n.form_infos.trial_limit),1)):((0,a.uX)(),(0,a.CE)("td",Ht,(0,r.v_)(n.origin_infos.trial_limit),1)),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Yt,[l.validate("diff","trial_limit")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",Jt,(0,r.v_)(o.detailList.trial_limit),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("tr",null,[Rt,"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",Zt,(0,r.v_)(n.form_infos.login_id),1)):((0,a.uX)(),(0,a.CE)("td",en,(0,r.v_)(n.origin_infos.login_id),1)),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",tn,[l.validate("null","login_id")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("length",["login_id",30])?((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("under","login_id")?((0,a.uX)(),(0,a.Wv)(c,{key:2,class:"icon_error vali_icon",icon:"circle-xmark"})):"add"==n.form_infos.fix_type&&l.validate("duplicate","login_id")?((0,a.uX)(),(0,a.Wv)(c,{key:3,class:"icon_error vali_icon",icon:"circle-xmark"})):((0,a.uX)(),(0,a.Wv)(c,{key:4,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",nn,(0,r.v_)(o.detailList.login_id),1)])):(0,a.Q3)("",!0)]),"add"==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("tr",an,[on,"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",ln,(0,r.v_)(n.form_infos.user_name),1)):((0,a.uX)(),(0,a.CE)("td",rn,(0,r.v_)(n.origin_infos.user_name),1)),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",cn,[l.validate("null","user_name")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_error vali_icon",icon:"circle-xmark"})):l.validate("length",["user_name",30])?((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_error vali_icon",icon:"circle-xmark"})):((0,a.uX)(),(0,a.Wv)(c,{key:2,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",_n,(0,r.v_)(o.detailList.user_name),1)])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),(0,a.Lk)("tr",null,[sn,"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",dn,(0,r.v_)(n.form_infos.allow_ips),1)):((0,a.uX)(),(0,a.CE)("td",un,(0,r.v_)(n.origin_infos.allow_ips),1)),"delete"!==n.form_infos.fix_type&&"init"!==n.form_infos.fix_type?((0,a.uX)(),(0,a.CE)("td",fn,[l.validate("diff","allow_ips")?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"icon_warn vali_icon",icon:"circle-exclamation"})):((0,a.uX)(),(0,a.Wv)(c,{key:1,class:"icon_info vali_icon",icon:"circle-check"})),(0,a.Lk)("div",mn,(0,r.v_)(o.detailList.allow_ips),1)])):(0,a.Q3)("",!0)])])]),(0,a.Lk)("div",null,[(0,a.Lk)("div",{class:"btn",onClick:t[0]||(t[0]=(...e)=>l.submitAction&&l.submitAction(...e))},"処理実行")])])])}const vn=n(6425);var kn={data(){return{msgList:{null:"未入力もしくは不正値",length:"文字数超過",allow:"テナント合計接続数の超過",diff:"差分の発生",under:"アンダーバー使用不可",duplicate:"テナント内ID重複"},detailList:{contractor_name:"正常値",allow_device_num:"正常値",domain:"正常値",apb_mode_flag:"正常値",ee_mode_flag:"正常値",api_allow_ip:"正常値",trial_limit:"正常値",login_id:"正常値",user_name:"正常値",allow_ips:"正常値"}}},props:{tenantval:String,form_infos:Array,origin_infos:Array,count:Number,users:Array},methods:{fixType:function(e){switch(e){case"add":return"登録";case"edit":return"更新";case"delete":return"削除";case"init":return"初期化";default:return""}},modalClose:function(e){let t=this;e.target.closest(".modal_container")||t.$emit("input",!1)},validate:function(e,t){let n=this,i=!1;switch(e){case"null":n.form_infos[t]||(i=!0);break;case"length":n.form_infos[t[0]].length>t[1]&&(i=!0);break;case"allow":100<n.count+Number(n.form_infos[t])&&(i=!0);break;case"under":n.form_infos[t].match(/_/g)&&(i=!0);break;case"duplicate":for(let e=0;e<n.users.length;e++)if(n.form_infos[t]===n.users[e].login_id){i=!0;break}break;case"diff":"edit"===n.form_infos.fix_type&&(n.form_infos[t]!=n.origin_infos[t]?i=!0:"ee_mode_flag"==t&&n.form_infos[t]&&(n.form_infos.ee_desc_1===n.origin_infos.ee_desc_1&&n.form_infos.ee_desc_2===n.origin_infos.ee_desc_2||(i=!0)));break;default:break}return i&&(n.detailList[t]=n.msgList[e]),i},submitAction:function(){let e=this;if(document.getElementsByClassName("icon_error").length)alert("エラー箇所があります。確認してください。");else if("delete"!==e.form_infos.fix_type&&"init"!==e.form_infos.fix_type){let t="[ "+e.tenantval+" ]へ";t+="add"===e.form_infos.fix_type?"登録":"更新",t+="処理を開始します",t+=document.getElementsByClassName("icon_warn").length?"\r\n　・内容更新箇所 [ "+document.getElementsByClassName("icon_warn").length+" ]":"",t+=e.form_infos.trial_limit?"\r\n　・デモ環境です（期限[ "+e.form_infos.trial_limit+" ]）":"",confirm(t)&&(e.$emit("loading",!0),"add"===e.form_infos.fix_type?vn.post(location.origin+"/server/backend/contractor/"+e.tenantval,e.form_infos).then((function(e){let t=e.data.msg;t+="\r\n※※必ず下記を控えてください※※",t+="\r\n▼contractor_id",t+="\r\n"+e.data.contractor_id,t+="\r\n▼api_token",t+="\r\n"+e.data.api_token,t+="\r\n ",t+="\r\n※api_tokenはこの後コピーを行います",alert(t),navigator.clipboard.writeText(e.data.api_token),setTimeout((()=>{alert("api_tokenのコピー完了をご確認ください\r\n※クリップボード許可のポップアップが出ている場合は許可をしてください"),window.location.reload()}),2e3)})).catch((function(t){alert(t.response.data.msg),e.$emit("loading",!1)})):vn.post(location.origin+"/server/backend/contractor/"+e.tenantval+"/"+e.origin_infos.contractor_id,e.form_infos).then((function(e){alert(e.data.msg),window.location.reload()})).catch((function(t){alert(t.response.data.msg),e.$emit("loading",!1)})))}else{let t=e.fixType(e.form_infos.fix_type),n="※"+t+"内容を確認してください※\r\n"+t+"対象テナント【"+e.tenantval+"】\r\n"+t+"契約名【"+e.form_infos.contractor_name+"】";confirm(n)&&(n+="\r\n \r\n※※"+t+"がされると復元できませんがよろしいですか？※※\r\n \r\n実行する場合は「"+t+"開始」と入力しOKを押してください。","delete"==e.form_infos.fix_type&&"削除開始"===prompt(n)?(e.$emit("loading",!0),vn.delete(location.origin+"/server/backend/delete/"+e.tenantval+"/"+e.origin_infos.contractor_id).then((function(e){alert(e.data.msg),window.location.reload()})).catch((function(t){alert(t.response.data.msg),e.$emit("loading",!1)}))):"init"==e.form_infos.fix_type&&"初期化開始"===prompt(n)?(e.$emit("loading",!0),vn.delete(location.origin+"/server/backend/init/"+e.tenantval+"/"+e.origin_infos.contractor_id).then((function(e){alert(e.data.msg),window.location.reload()})).catch((function(t){alert(t.response.data.msg),e.$emit("loading",!1)}))):alert("「削除開始」がキャンセルされました"))}}}};const yn=(0,m.A)(kn,[["render",pn]]);var gn=yn;const xn=e=>((0,a.Qi)("data-v-49cd1390"),e=e(),(0,a.jt)(),e),hn={class:"loading"},Ln=xn((()=>(0,a.Lk)("div",{id:"container"},[(0,a.Lk)("span"),(0,a.Lk)("span"),(0,a.Lk)("span"),(0,a.Lk)("p",null,"LOADING")],-1))),Cn=[Ln];function Xn(e,t,n,i,o,l){return(0,a.uX)(),(0,a.CE)("div",hn,Cn)}var En={data(){return""}};const wn=(0,m.A)(En,[["render",Xn],["__scopeId","data-v-49cd1390"]]);var bn=wn;const Wn=n(6425);var In={name:"TopPage",components:{CurrentModal:gn,LoadingModal:bn},data(){return{tenantval:"",tenants:["on-premises"],type:"",ee_flag:!1,contractors:[],contractor:null,count:0,user:[],users:[],login_id:"",form_infos:null,origin_infos:null,modal_state:!1,error:"",loading:!1}},methods:{getContractors:function(){let e=this;""!==e.tenantval&&(Wn.get(location.origin+"/server/backend/contractor/"+e.tenantval).then((function(t){e.contractors=t.data,e.count=0;for(let n=0;n<e.contractors.length;n++)e.count+=e.contractors[n].allow_device_num})),Wn.get(location.origin+"/server/backend/user/"+e.tenantval).then((function(t){e.users=t.data}))),e.valueInit()},selectContractor:function(e){let t=this;t.valueInit(),t.form_infos=null;for(let n=0;n<t.contractors.length;n++)if(t.contractors[n].contractor_id===Number(e.target.value)){t.contractor=t.contractors[n],t.ee_flag=Boolean(t.contractor.enter_exit_mode_flag);break}Wn.get(location.origin+"/server/backend/user/"+t.tenantval+"/"+e.target.value).then((function(e){t.user=e.data,t.login_id=e.data.login_id}))},valueInit:function(e=!1){let t=this;t.contractor=null,t.user=[],t.login_id="",t.ee_flag=!1,document.facet_admin_form.login_id&&(document.facet_admin_form.allow_device_num.value="",document.facet_admin_form.domain.value="",document.facet_admin_form.apb_mode_flag.checked=!1,document.facet_admin_form.ee_mode_flag.checked=!1,document.facet_admin_form.api_allow_ip.value="",document.facet_admin_form.trial_limit.value="",document.facet_admin_form.login_id.value="",document.facet_admin_form.user_name.value="",document.facet_admin_form.allow_ips.value="",document.getElementById("eeDescBox")&&(document.facet_admin_form.ee_description_name_1.value="",document.facet_admin_form.ee_description_name_2.value="")),e&&"add"!==t.type&&(document.facet_admin_form.contractor_id.value="")},changeEEStatus:function(){let e=this,t=document.facet_admin_form,n=document.getElementById("checkEE").checked;"edit"===e.type&&(e.form_infos={allow_device_num:t.allow_device_num.value,domain:t.domain.value,api_allow_ip:t.api_allow_ip.value,trial_limit:e.datetimeConversion(t.trial_limit.value,"param"),allow_ips:t.allow_ips.value}),e.ee_flag=n},openModal:function(){let e=this,t=document.facet_admin_form;if("add"!==e.type&&""==t.contractor_id.value)alert("契約名が選択されていません");else{if("delete"!==t.fix_type.value&&"init"!==t.fix_type.value){let n="add"==t.fix_type.value?t.contractor_name.value:e.contractor.contractor_name;e.form_infos={fix_type:t.fix_type.value,contractor_name:n,allow_device_num:t.allow_device_num.value?Number(t.allow_device_num.value):null,domain:t.domain.value?t.domain.value:null,apb_mode_flag:t.apb_mode_flag.checked?1:0,ee_mode_flag:t.ee_mode_flag.checked?1:0,ee_desc_1:t.ee_mode_flag.checked&&t.ee_description_name_1.value?t.ee_description_name_1.value:null,ee_desc_2:t.ee_mode_flag.checked&&t.ee_description_name_2.value?t.ee_description_name_2.value:null,api_allow_ip:t.api_allow_ip.value?t.api_allow_ip.value:null,trial_limit:t.trial_limit.value?e.datetimeConversion(t.trial_limit.value,"param"):null,login_id:t.login_id.value?t.login_id.value:null,user_name:t.user_name.value?t.user_name.value:null,allow_ips:t.allow_ips.value?t.allow_ips.value:null}}else e.form_infos={fix_type:t.fix_type.value,contractor_name:e.contractor.contractor_name};"add"!==t.fix_type.value?e.origin_infos={contractor_id:e.contractor.contractor_id,contractor_name:e.contractor.contractor_name,allow_device_num:e.contractor.allow_device_num,domain:e.contractor.domain,apb_mode_flag:e.contractor.apb_mode_flag?1:0,ee_mode_flag:e.contractor.enter_exit_mode_flag?1:0,ee_desc_1:e.contractor.enter_exit_description_name1,ee_desc_2:e.contractor.enter_exit_description_name2,api_allow_ip:e.contractor.api_allow_ip,trial_limit:e.contractor.trial_limit,login_id:e.user.login_id,user_name:e.user.user_name,allow_ips:e.user.allow_ips}:e.origin_infos=null,e.modal_state=!0}},datetimeConversion:function(e,t){if(e){if("value"===t){let t=e.split(" "),n=t[1].split(":");return t[0]+"T"+n[0]+":"+n[1]}return e.replace("T"," ")+":00"}return e},confirmPermission:function(){return document.getElementById("basicLoginUser").textContent}}};const Qn=(0,m.A)(In,[["render",ct],["__scopeId","data-v-5b183d96"]]);var An=Qn,Pn={name:"App",components:{MainHeader:v,TopPage:An},data(){return{loading:!1}}};const jn=(0,m.A)(Pn,[["render",l]]);var Bn=jn,Tn=n(8950),On=n(2353),Mn=n(292);Tn.Yv.add(On.X7I);const Un=(0,i.Ef)(Bn);Un.component("font-awesome-icon",Mn.gc),Un.mount("#app")}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,o){if(!i){var l=1/0;for(s=0;s<e.length;s++){i=e[s][0],a=e[s][1],o=e[s][2];for(var r=!0,c=0;c<i.length;c++)(!1&o||l>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[c])}))?i.splice(c--,1):(r=!1,o<l&&(l=o));if(r){e.splice(s--,1);var _=a();void 0!==_&&(t=_)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[i,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,l=i[0],r=i[1],c=i[2],_=0;if(l.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(c)var s=c(n)}for(t&&t(i);_<l.length;_++)o=l[_],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(s)},i=self["webpackChunkagain"]=self["webpackChunkagain"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(5712)}));i=n.O(i)})();
//# sourceMappingURL=app.7e905282.js.map