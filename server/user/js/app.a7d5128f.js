(function(){"use strict";var e={9586:function(e,a,n){var t=n(5130),o=n(6768);const l={class:"main_wrapper"};function i(e,a,n,t,i,s){const r=(0,o.g2)("MainHeader"),c=(0,o.g2)("TopPage");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(r),(0,o.bF)(c)])}const s={class:"header"},r=(0,o.Lk)("h1",null,"facetサーバー管理画面",-1),c=[r];function u(e,a,n,t,l,i){return(0,o.uX)(),(0,o.CE)("div",s,c)}var d={data(){}},p=n(1241);const m=(0,p.A)(d,[["render",u]]);var f=m,k=n(4232);const b=e=>((0,o.Qi)("data-v-16c435f6"),e=e(),(0,o.jt)(),e),v={action:"#",name:"facet_admin_form",enctype:"multipart/form-data"},_={class:"main_content"},L={class:"tab_wrapper"},g={class:"tab_container"},y=b((()=>(0,o.Lk)("h3",{class:"no_margin"},"サーバー",-1))),h=[y],w=b((()=>(0,o.Lk)("h3",{class:"no_margin"},"facet",-1))),T=[w],C={key:0,class:"form_wrapper"},I={key:0,class:"form_container"},x=b((()=>(0,o.Lk)("h3",null,"IP設定 ",-1))),P={class:"form_box"},E={class:"ipconfig_container"},N={key:0,class:"ip_type_box"},A={for:"ipManual"},X={for:"ipAuto"},S={key:1,class:"ip_table"},U={class:"ip_tr"},M=b((()=>(0,o.Lk)("th",{class:"ip_title"},"IPアドレス(IPv4)：",-1))),W={class:"ip_container"},D=["value"],F=b((()=>(0,o.Lk)("div",{class:"ip_dot"},"●",-1))),Q=["value"],j=b((()=>(0,o.Lk)("div",{class:"ip_dot"},"●",-1))),O=["value"],$=b((()=>(0,o.Lk)("div",{class:"ip_dot"},"●",-1))),z=["value"],H={class:"ip_tr"},V=b((()=>(0,o.Lk)("th",{class:"ip_title"},"サブネットマスク：",-1))),B={class:"ip_container"},R=["value"],G=b((()=>(0,o.Lk)("option",{value:""},null,-1))),K=["value"],J={class:"ip_tr"},Y=b((()=>(0,o.Lk)("th",{class:"ip_title"},"デフォルトゲートウェイ：",-1))),Z={class:"ip_container"},q=["value"],ee=b((()=>(0,o.Lk)("div",{class:"ip_dot"},"●",-1))),ae=["value"],ne=b((()=>(0,o.Lk)("div",{class:"ip_dot"},"●",-1))),te=["value"],oe=b((()=>(0,o.Lk)("div",{class:"ip_dot"},"●",-1))),le=["value"],ie={class:"ip_tr"},se=b((()=>(0,o.Lk)("th",{class:"ip_title"},"DNS：",-1))),re={class:"ip_container"},ce=["value"],ue=b((()=>(0,o.Lk)("div",{class:"ip_dot"},"●",-1))),de=["value"],pe=b((()=>(0,o.Lk)("div",{class:"ip_dot"},"●",-1))),me=["value"],fe=b((()=>(0,o.Lk)("div",{class:"ip_dot"},"●",-1))),ke=["value"],be=b((()=>(0,o.Lk)("hr",{size:"10"},null,-1))),ve={class:"form_container"},_e=b((()=>(0,o.Lk)("h3",null,"NTP",-1))),Le={class:"form_box"},ge={class:"ntp_box"},ye={class:"ntp_datetime"},he=b((()=>(0,o.Lk)("p",{id:"system_datetime"},"0000/00/00 00:00:00",-1))),we={class:"ntp_config"},Te={for:"ntp_form"},Ce=["value"],Ie={key:1,size:"10"},xe={key:2,class:"form_container"},Pe=b((()=>(0,o.Lk)("h3",null,"SSL設定",-1))),Ee={class:"form_box"},Ne=b((()=>(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:"no_margin form_info"},"SSL設定を変更します。通信方法が変更されるため、変更時はご注意ください。"),(0,o.Lk)("p",{class:"no_margin form_info"},"変更をする場合は確認画面をよくご確認の上実行してください。")],-1))),Ae={class:"ssl_container"},Xe={for:"sslDisable"},Se={for:"sslEnable"},Ue={key:3,size:"10"},Me={key:4,class:"form_container"},We=b((()=>(0,o.Lk)("h3",null,"SSL証明書更新",-1))),De={class:"form_box"},Fe={class:"ssl_text"},Qe=b((()=>(0,o.Lk)("div",null,"※更新実行後、UI操作が数分間操作不可となりますのでご注意ください。",-1))),je=b((()=>(0,o.Lk)("hr",{size:"10"},null,-1))),Oe={class:"form_container"},$e=b((()=>(0,o.Lk)("h3",null,"ミドルウェアアップデート",-1))),ze={class:"form_box"},He=b((()=>(0,o.Lk)("div",{class:"middleware_container"},[(0,o.Lk)("input",{type:"file",name:"middleware_file"})],-1))),Ve=b((()=>(0,o.Lk)("hr",{size:"10"},null,-1))),Be={class:"form_container"},Re=b((()=>(0,o.Lk)("h3",null,"手動再起動",-1))),Ge={class:"form_box"},Ke=b((()=>(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:"no_margin form_info"},"サーバーを再起動します。"),(0,o.Lk)("p",{class:"no_margin form_info"},"再起動時は全ての処理が中断され接続ができません。")],-1))),Je=b((()=>(0,o.Lk)("hr",{size:"10"},null,-1))),Ye={class:"form_container"},Ze=b((()=>(0,o.Lk)("h3",null,"自動再起動",-1))),qe={class:"form_box"},ea=b((()=>(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:"no_margin form_info"},"指定のスケジュールで自動でサーバーを再起動します。"),(0,o.Lk)("p",{class:"no_margin form_info"},"再起動時は全ての処理が中断され接続ができません。")],-1))),aa={class:"reboot_container"},na={class:"reboot_enable"},ta={for:"rebootDisable"},oa={for:"rebootEnable"},la={key:0,class:"reboot_week",for:"rebootWeek"},ia=["value"],sa={key:1,class:"reboot_hour",for:"rebootHour"},ra=b((()=>(0,o.Lk)("hr",{size:"10"},null,-1))),ca={key:1,class:"form_wrapper"},ua={class:"form_container"},da=b((()=>(0,o.Lk)("h3",null,"facetバージョンアップ",-1))),pa={class:"form_box"},ma=b((()=>(0,o.Lk)("div",{class:"facetUp_container"},[(0,o.Lk)("input",{type:"file",name:"facet_file"})],-1))),fa=b((()=>(0,o.Lk)("hr",{size:"10"},null,-1))),ka={class:"form_container"},ba=b((()=>(0,o.Lk)("h3",null,"ログ取得",-1))),va={class:"form_box"},_a=b((()=>(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:"no_margin form_info"},"指定があった場合にのみ取得を行ってください。")],-1))),La=b((()=>(0,o.Lk)("hr",{size:"10"},null,-1))),ga={class:"form_container"},ya=b((()=>(0,o.Lk)("h3",null,"APIトークンの更新",-1))),ha={class:"form_box"},wa={class:"apiToken_box"},Ta={class:"origin_token"},Ca={for:"originToken"},Ia=["value"],xa={class:"apiToken_config"},Pa={for:"randomToken"},Ea={for:"manualToken"},Na=["value"],Aa=b((()=>(0,o.Lk)("hr",{size:"10"},null,-1))),Xa={class:"form_container"},Sa=b((()=>(0,o.Lk)("h3",null,"入出力処理の排他制御の強制解除",-1))),Ua={class:"form_box"},Ma=b((()=>(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:"no_margin form_info"},"エクスポートやインポートの処理中に実行すると処理が失敗します。"),(0,o.Lk)("p",{class:"no_margin form_info"},"必ず必要な場合にのみ実行を行ってください。")],-1))),Wa=b((()=>(0,o.Lk)("hr",{size:"10"},null,-1)));function Da(e,a,n,l,i,s){const r=(0,o.g2)("LoadingModal"),c=(0,o.g2)("ConfirmModal");return(0,o.uX)(),(0,o.CE)(o.FK,null,[i.loading?((0,o.uX)(),(0,o.Wv)(r,{key:0})):(0,o.Q3)("",!0),i.confirm_flag?((0,o.uX)(),(0,o.Wv)(c,{key:1,confim_content:i.confim_content,params:i.params,onConfirm:a[0]||(a[0]=e=>i.confirm_flag=e),onLoading:a[1]||(a[1]=e=>i.loading=e)},null,8,["confim_content","params"])):(0,o.Q3)("",!0),(0,o.Lk)("form",v,[(0,o.Lk)("div",_,[(0,o.Lk)("div",L,[(0,o.Lk)("div",g,[(0,o.Lk)("div",{id:"serverTab",class:"tab tab_active",onClick:a[2]||(a[2]=e=>s.changeConfigType("server"))},h),(0,o.Lk)("div",{id:"facetTab",class:"tab tab_disable",onClick:a[3]||(a[3]=e=>s.changeConfigType("facet"))},T)])]),"server"==i.config_type?((0,o.uX)(),(0,o.CE)("div",C,["admin"==i.basic?((0,o.uX)(),(0,o.CE)("div",I,[x,(0,o.Lk)("div",P,[(0,o.Lk)("div",E,[i.release_flag?((0,o.uX)(),(0,o.CE)("div",N,[(0,o.Lk)("label",A,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"ipManual",name:"ip_type",value:"manual","onUpdate:modelValue":a[4]||(a[4]=e=>i.ip_type=e)},null,512),[[t.XL,i.ip_type]]),(0,o.eW)("静的IP")]),(0,o.Lk)("label",X,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"ipAuto",name:"ip_type",value:"auto","onUpdate:modelValue":a[5]||(a[5]=e=>i.ip_type=e)},null,512),[[t.XL,i.ip_type]]),(0,o.eW)("DHCP")])])):(0,o.Q3)("",!0),"manual"==i.ip_type?((0,o.uX)(),(0,o.CE)("table",S,[(0,o.Lk)("tr",U,[M,(0,o.Lk)("td",null,[(0,o.Lk)("div",W,[(0,o.Lk)("input",{type:"number",name:"ip_1",class:"ip_contents",value:i.ipAddresses[0],onInput:a[6]||(a[6]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,D),F,(0,o.Lk)("input",{type:"number",name:"ip_2",class:"ip_contents",value:i.ipAddresses[1],onInput:a[7]||(a[7]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,Q),j,(0,o.Lk)("input",{type:"number",name:"ip_3",class:"ip_contents",value:i.ipAddresses[2],onInput:a[8]||(a[8]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,O),$,(0,o.Lk)("input",{type:"number",name:"ip_4",class:"ip_contents",value:i.ipAddresses[3],onInput:a[9]||(a[9]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,z)])])]),(0,o.Lk)("tr",H,[V,(0,o.Lk)("td",null,[(0,o.Lk)("div",B,[(0,o.Lk)("select",{name:"subnet",class:"select_subnet",value:i.subnet},[G,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.subnetList,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.value,key:e.id},(0,k.v_)(e.ip),9,K)))),128))],8,R)])])]),(0,o.Lk)("tr",J,[Y,(0,o.Lk)("td",null,[(0,o.Lk)("div",Z,[(0,o.Lk)("input",{type:"number",name:"gw_1",class:"ip_contents",value:i.gateway[0],onInput:a[10]||(a[10]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,q),ee,(0,o.Lk)("input",{type:"number",name:"gw_2",class:"ip_contents",value:i.gateway[1],onInput:a[11]||(a[11]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,ae),ne,(0,o.Lk)("input",{type:"number",name:"gw_3",class:"ip_contents",value:i.gateway[2],onInput:a[12]||(a[12]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,te),oe,(0,o.Lk)("input",{type:"number",name:"gw_4",class:"ip_contents",value:i.gateway[3],onInput:a[13]||(a[13]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,le)])])]),(0,o.Lk)("tr",ie,[se,(0,o.Lk)("td",null,[(0,o.Lk)("div",re,[(0,o.Lk)("input",{type:"number",name:"dns_1",class:"ip_contents",value:i.dns[0],onInput:a[14]||(a[14]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,ce),ue,(0,o.Lk)("input",{type:"number",name:"dns_2",class:"ip_contents",value:i.dns[1],onInput:a[15]||(a[15]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,de),pe,(0,o.Lk)("input",{type:"number",name:"dns_3",class:"ip_contents",value:i.dns[2],onInput:a[16]||(a[16]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,me),fe,(0,o.Lk)("input",{type:"number",name:"dns_4",class:"ip_contents",value:i.dns[3],onInput:a[17]||(a[17]=(...e)=>s.allowNum&&s.allowNum(...e))},null,40,ke)])])])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"ip",onClick:a[18]||(a[18]=(...e)=>s.confirm&&s.confirm(...e))},"更新")])])])):(0,o.Q3)("",!0),be,(0,o.Lk)("div",ve,[_e,(0,o.Lk)("div",Le,[(0,o.Lk)("div",ge,[(0,o.Lk)("div",ye,[he,(0,o.Lk)("div",{class:"btn btn_sync",onClick:a[19]||(a[19]=e=>s.syncDatetime())},"PC時刻と同期")]),(0,o.Lk)("div",we,[(0,o.Lk)("label",Te,[(0,o.eW)("同期先："),(0,o.Lk)("input",{type:"text",name:"ntp",id:"ntp_form",value:i.ntp},null,8,Ce)])])]),(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"ntp",onClick:a[20]||(a[20]=(...e)=>s.confirm&&s.confirm(...e))},"更新")])])]),"admin"==i.basic?((0,o.uX)(),(0,o.CE)("hr",Ie)):(0,o.Q3)("",!0),"admin"==i.basic?((0,o.uX)(),(0,o.CE)("div",xe,[Pe,(0,o.Lk)("div",Ee,[(0,o.Lk)("div",null,[Ne,(0,o.Lk)("div",Ae,[(0,o.Lk)("label",Xe,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"sslDisable",name:"ssl_enable",value:"0","onUpdate:modelValue":a[21]||(a[21]=e=>i.ssl_enable=e)},null,512),[[t.XL,i.ssl_enable]]),(0,o.eW)("無効")]),(0,o.Lk)("label",Se,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"sslEnable",name:"ssl_enable",value:"1","onUpdate:modelValue":a[22]||(a[22]=e=>i.ssl_enable=e)},null,512),[[t.XL,i.ssl_enable]]),(0,o.eW)("有効")])])]),(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"sslEnable",onClick:a[23]||(a[23]=(...e)=>s.confirm&&s.confirm(...e))},"実行")])])])):(0,o.Q3)("",!0),i.ssl.ssl_enable?((0,o.uX)(),(0,o.CE)("hr",Ue)):(0,o.Q3)("",!0),"admin"==i.basic&&i.ssl.ssl_enable?((0,o.uX)(),(0,o.CE)("div",Me,[We,(0,o.Lk)("div",De,[(0,o.Lk)("div",Fe,[(0,o.Lk)("div",null,"現在のSSL証明書は「"+(0,k.v_)(i.ssl.expiry)+"」が有効期限です。",1),Qe]),(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"ssl",onClick:a[24]||(a[24]=(...e)=>s.confirm&&s.confirm(...e))},"更新")])])])):(0,o.Q3)("",!0),je,(0,o.Lk)("div",Oe,[$e,(0,o.Lk)("div",ze,[He,(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"middleware",onClick:a[25]||(a[25]=(...e)=>s.confirm&&s.confirm(...e))},"更新")])])]),Ve,(0,o.Lk)("div",Be,[Re,(0,o.Lk)("div",Ge,[Ke,(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"rebootM",onClick:a[26]||(a[26]=(...e)=>s.confirm&&s.confirm(...e))},"実行")])])]),Je,(0,o.Lk)("div",Ye,[Ze,(0,o.Lk)("div",qe,[(0,o.Lk)("div",null,[ea,(0,o.Lk)("div",aa,[(0,o.Lk)("div",na,[(0,o.Lk)("label",ta,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"rebootDisable",name:"reboot_enable",value:"disable","onUpdate:modelValue":a[27]||(a[27]=e=>i.reboot_type=e)},null,512),[[t.XL,i.reboot_type]]),(0,o.eW)("無効")]),(0,o.Lk)("label",oa,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"rebootEnable",name:"reboot_enable",value:"enable","onUpdate:modelValue":a[28]||(a[28]=e=>i.reboot_type=e)},null,512),[[t.XL,i.reboot_type]]),(0,o.eW)("有効")])]),"enable"==i.reboot_type?((0,o.uX)(),(0,o.CE)("label",la,[(0,o.eW)("曜日 "),(0,o.bo)((0,o.Lk)("select",{name:"reboot_week",id:"rebootWeek","onUpdate:modelValue":a[29]||(a[29]=e=>i.reboot_week=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.weekArray,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.value,key:e.id},(0,k.v_)(e.name),9,ia)))),128))],512),[[t.u1,i.reboot_week]])])):(0,o.Q3)("",!0),"enable"==i.reboot_type?((0,o.uX)(),(0,o.CE)("label",sa,[(0,o.eW)("時間 "),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"rebootHour",placeholder:"0",name:"reboot_hour","onUpdate:modelValue":a[30]||(a[30]=e=>i.reboot_hour=e),onInput:a[31]||(a[31]=(...e)=>s.rebootHourControl&&s.rebootHourControl(...e))},null,544),[[t.Jo,i.reboot_hour]]),(0,o.eW)("時 ")])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"rebootA",onClick:a[32]||(a[32]=(...e)=>s.confirm&&s.confirm(...e))},"実行")])])]),ra])):(0,o.Q3)("",!0),"facet"==i.config_type?((0,o.uX)(),(0,o.CE)("div",ca,[(0,o.Lk)("div",ua,[da,(0,o.Lk)("div",pa,[ma,(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"facetUp",onClick:a[33]||(a[33]=(...e)=>s.confirm&&s.confirm(...e))},"更新")])])]),fa,(0,o.Lk)("div",ka,[ba,(0,o.Lk)("div",va,[_a,(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"facetLog",onClick:a[34]||(a[34]=(...e)=>s.confirm&&s.confirm(...e))},"取得")])])]),La,(0,o.Lk)("div",ga,[ya,(0,o.Lk)("div",ha,[(0,o.Lk)("div",wa,[(0,o.Lk)("div",Ta,[(0,o.Lk)("label",Ca,[(0,o.eW)("現在"),(0,o.Lk)("input",{type:"text",id:"originToken",value:i.apiTokenOrigin,readonly:""},null,8,Ia)])]),(0,o.Lk)("div",xa,[(0,o.Lk)("div",null,[(0,o.Lk)("label",Pa,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"randomToken",name:"apiTokenType",value:"random","onUpdate:modelValue":a[35]||(a[35]=e=>i.apiTokenType=e)},null,512),[[t.XL,i.apiTokenType]]),(0,o.eW)("ランダム生成")]),(0,o.Lk)("label",Ea,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"manualToken",name:"apiTokenType",value:"manual","onUpdate:modelValue":a[36]||(a[36]=e=>i.apiTokenType=e)},null,512),[[t.XL,i.apiTokenType]]),(0,o.eW)("手動入力")])]),"manual"==i.apiTokenType?((0,o.uX)(),(0,o.CE)("input",{key:0,id:"apiTokenManual",type:"text",name:"apiToken",value:i.apiToken},null,8,Na)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"apiToken",onClick:a[37]||(a[37]=(...e)=>s.confirm&&s.confirm(...e))},"更新")])])]),Aa,(0,o.Lk)("div",Xa,[Sa,(0,o.Lk)("div",Ua,[Ma,(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"confirm_btn",id:"exclusive",onClick:a[38]||(a[38]=(...e)=>s.confirm&&s.confirm(...e))},"実行")])])]),Wa])):(0,o.Q3)("",!0)])])],64)}const Fa=e=>((0,o.Qi)("data-v-49cd1390"),e=e(),(0,o.jt)(),e),Qa={class:"loading"},ja=Fa((()=>(0,o.Lk)("div",{id:"container"},[(0,o.Lk)("span"),(0,o.Lk)("span"),(0,o.Lk)("span"),(0,o.Lk)("p",null,"LOADING")],-1))),Oa=[ja];function $a(e,a,n,t,l,i){return(0,o.uX)(),(0,o.CE)("div",Qa,Oa)}var za={data(){return""}};const Ha=(0,p.A)(za,[["render",$a],["__scopeId","data-v-49cd1390"]]);var Va=Ha;const Ba=e=>((0,o.Qi)("data-v-21a7478d"),e=e(),(0,o.jt)(),e),Ra={class:"confirm_wrapper"},Ga={class:"confirm_container"},Ka=Ba((()=>(0,o.Lk)("h1",null,"確認内容",-1))),Ja={class:"confirm_contents"},Ya=["innerHTML"],Za={class:"confirm_btn_box"};function qa(e,a,n,t,l,i){return(0,o.uX)(),(0,o.CE)("div",Ra,[(0,o.Lk)("div",Ga,[Ka,(0,o.Lk)("div",Ja,[(0,o.Lk)("h2",null,"項目「"+(0,k.v_)(l.confirm_list[n.confim_content])+"」",1),(0,o.Lk)("div",{class:"confirm_text",innerHTML:i.confirmText(n.confim_content)},null,8,Ya),(0,o.Lk)("div",Za,[(0,o.Lk)("div",{class:"btn submit_btn",onClick:a[0]||(a[0]=e=>i.exec(n.confim_content))},"実行"),(0,o.Lk)("div",{class:"btn back_btn",onClick:a[1]||(a[1]=e=>i.confirm_back())},"戻る")])])])])}var en=n(788);const an=n(6425);var nn={data(){return{confirm_list:{ip:"IP設定",ntp:"NTP",sslEnable:"SSL設定",ssl:"SSL証明書更新",middleware:"ミドルウェアアップデート",rebootM:"手動再起動",rebootA:"自動再起動",facetUp:"facetバージョンアップ",facetLog:"ログ取得",apiToken:"APIトークンの更新",exclusive:"排他制御強制解除"},week_list:{sun:"日曜日",mon:"月曜日",tue:"火曜日",wed:"水曜日",thu:"木曜日",fri:"金曜日",sat:"土曜日",every:"毎日"}}},props:{confim_content:String,params:Array},methods:{confirm_back:function(){this.$emit("confirm",!1)},exec:function(e){this.$emit("loading",!0);let a=this;switch(e){case"ip":an.post(location.origin+"/server/backend/system/ipconfig",a.params).then((function(){alert("まもなくサーバーの再起動がされます..."),an.post(location.origin+"/server/backend/system/reboot/manual","").then((function(){console.log("start reboot"),location.href="http://"+a.params.ip.join(".")+"/server/user/"}))})).catch((function(e){a.$emit("loading",!1),alert(e.response.data.msg)}));break;case"ntp":an.post(location.origin+"/server/backend/system/ntp",a.params).then((function(e){console.log(e.data),alert("実行が終了しました"),location.reload()})).catch((function(e){a.$emit("loading",!1),alert(e.response.data.msg)}));break;case"ssl":an.post(location.origin+"/server/backend/system/ssl","").then((function(e){console.log(e.data),alert("実行が終了しました")})).catch((function(e){a.$emit("loading",!1),alert(e.response.data.msg)})).finally((function(){location.reload()}));break;case"sslEnable":an.post(location.origin+"/server/backend/system/sslSwitch",a.params).then((function(e){console.log(e.data);let n="1"===a.params.ssl_enable?"https":"http";alert("変更が終了しました。まもなく再起動がされます。"),an.post(location.origin+"/server/backend/system/reboot/manual","").then((function(){location.href=n+"://"+location.host+"/server/user/"}))})).catch((function(e){a.$emit("loading",!1),alert(e.response.data.msg)}));break;case"middleware":document.facet_admin_form.middleware_file.files[0]?an.post(location.origin+"/server/backend/system/middleware",a.params,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),location.reload()})).catch((function(e){a.$emit("loading",!1),alert(e.response.data.msg)})):alert("【ミドルウェアアップデート】アップロードファイルが見つかりません");break;case"rebootM":an.post(location.origin+"/server/backend/system/reboot/manual","").then((function(e){console.log(e.data),alert("再起動を実施しました"),location.reload()})).catch((function(e){a.$emit("loading",!1),alert(e.response.data.msg)}));break;case"rebootA":an.post(location.origin+"/server/backend/system/reboot/auto",a.params).then((function(e){console.log(e.data),alert("実行が終了しました"),location.reload()})).catch((function(e){a.$emit("loading",!1),alert(e.response.data.msg)}));break;case"facetUp":document.facet_admin_form.facet_file.files[0]?an.post(location.origin+"/server/backend/facet/versionUpdate",a.params,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),location.reload()})).catch((function(e){a.$emit("loading",!1),alert(e.response.data.msg)})):alert("【facetバージョンアップ】アップロードファイルが見つかりません");break;case"facetLog":an.get(location.origin+"/server/backend/facet/facetLog",{responseType:"blob"}).then((function(e){let a=e.headers["content-type"],n=(new Date).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replaceAll("/","").replaceAll(":","").replace(" ","");const t="logs_"+n+".tar.gz",o=new Blob([e.data],{type:a});(0,en.saveAs)(o,t),setTimeout((function(){location.reload()}),5e3)})).catch((function(e){alert(e.response.data.msg),a.$emit("loading",!1)}));break;case"apiToken":an.post(location.origin+"/server/backend/facet/apiToken",a.params).then((function(e){console.log(e.data),alert("実行が終了しました"),location.reload()})).catch((function(e){alert(e.response.data.msg),a.$emit("loading",!1)}));break;case"exclusive":an.post(location.origin+"/server/backend/facet/exclusiveCancel","").then((function(e){console.log(e.data),alert("実行が終了しました"),location.reload()})).catch((function(e){alert(e.response.data.msg),a.$emit("loading",!1)}));break;default:break}},confirmText:function(e){let a=this,n=[];switch(e){case"ip":n="manual"==a.params.ip_type?["以下の内容で登録を行います。","＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","IPアドレス："+a.params.ip.join(".")+"/"+a.params.subnet,"GateWay："+a.params.gw.join("."),"DNS："+a.params.dns.join("."),"＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","","実行後はサーバーが再起動されます。","facet内で実行している処理がある場合は処理が完了してから実行してください。","IP変更後はFaceFC側の接続設定情報も変更する必要があります。","","再起動実行後、サーバーが起動するまでお待ちいただき、暫くしてからブラウザの更新を行ってください。"]:["以下の内容で登録を行います。","＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","IP：DHCP設定（自動設定）","＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","※DHCP設定の場合IPの特定ができないためドメイン利用以外の場合はご注意ください。","","実行後はサーバーが再起動されます。","facet内で実行している処理がある場合は処理が完了してから実行してください。","","再起動実行後、サーバーが起動するまでお待ちいただき、暫くしてからブラウザの更新を行ってください。"];break;case"ntp":n=["以下の内容で登録を行います。","＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","NTP同期先："+a.params.ntp,"＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝"];break;case"ssl":n=["SSL証明書の更新を行います。","","NTPの同期をするためにデフォルトゲートウェイを設定してください。","","更新が実行されるとUI操作などが数分間使用できなくなるため、実行後はしばらくお待ちください。","※使用の可否確認としてログイン画面などのUI画面が開けるかどうかで確認可能です。"];break;case"sslEnable":n=["SSL設定を以下の様に変更します。","＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","SSL設定："+("1"===a.params.ssl_enable?"有効":"無効"),"＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","","下記注意事項をご確認の上設定変更を実行してください。","＊変更後、再起動を行います。再起動中は全ての処理が中断されるため、処理を実行している場合は完了後に実行してください。","＊変更後はアクセスするURLのプロトコルが変更されますのでFaceFC側の設定や操作画面のURLを変更してください。","　・facet関連の操作画面やAPIについて、無効の場合は「http」、有効の場合は「https」となります。","　・FaceFC側のWebSocket登録について、無効の場合は「ws」、有効の場合は「wss」となります。","","その他注意点などの詳細はマニュアルをご参照ください。"];break;case"middleware":n=["実行するとミドルウェアが再起動されます。","再起動されるとfacetとFaceFCとの通信ができなくなるため、処理を実行している場合は完了後に実行してください。","","再起動実行後、サーバーが起動するまでお待ちいただき、暫くしてから通常通りご利用ください。"];break;case"rebootM":n=["実行するとサーバーが再起動されます。","再起動されるとfacet内で実行されている処理も中断されますのでご注意ください。","","再起動実行後、サーバーが起動するまでお待ちいただき、暫くしてからブラウザの更新を行ってください。"];break;case"rebootA":n="enable"==a.params.reboot_enable?["以下の内容で更新を行います。","＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","自動再起動：有効","再起動周期："+a.week_list[a.params.reboot_week],"再起動時間："+a.params.reboot_hour+"時","＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","","再起動されるとfacet内で実行されている処理も中断されますので指定する日時にご注意ください。"]:["以下の内容で更新を行います。","＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","自動再起動：無効","＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝","","更新成功すると自動での再起動をしなくなります。"];break;case"facetUp":n=["アップデートを行うとfacetでの処理が上手くいかなくなる可能性があるため、処理を実行している場合は完了後に実行してください。","","アップデート実行後、facet画面上で再読み込みしてから更新し、通常通りご利用ください。"];break;case"facetLog":n=["指示があった場合等の必要な時以外は取得を行わないでください。","","facetで出力されるログが多い場合は時間がかかる場合があります。","できるだけfacet内の負荷がかかっていない時間帯に実施をしてください。"];break;case"apiToken":n=["APIを使用する際に必須のパラメータとなるトークンを更新します","更新処理をした場合、APIを実施する際に指定するトークンも変更を行ってください。"];break;case"exclusive":n=["指示があった場合等の必要な時以外は実行しないでください。","facetでエクスポートや一括登録を行っている際に実行すると、処理が中断され不整合が発生する可能性があります。"];break;default:break}return n.join("<br>")}}};const tn=(0,p.A)(nn,[["render",qa],["__scopeId","data-v-21a7478d"]]);var on=tn;const ln=n(6425);var sn={name:"TopPage",components:{LoadingModal:Va,ConfirmModal:on},data(){return{basic:"",release_flag:!1,config_type:"server",ip_type:"manual",subnetList:[{id:"1",value:"8",ip:"8 (255.0.0.0)"},{id:"2",value:"9",ip:"9 (255.128.0.0)"},{id:"3",value:"10",ip:"10 (255.192.0.0)"},{id:"4",value:"11",ip:"11 (255.224.0.0)"},{id:"5",value:"12",ip:"12 (255.240.0.0)"},{id:"6",value:"13",ip:"13 (255.248.0.0)"},{id:"7",value:"14",ip:"14 (255.252.0.0)"},{id:"8",value:"15",ip:"15 (255.254.0.0)"},{id:"9",value:"16",ip:"16 (255.255.0.0)"},{id:"10",value:"17",ip:"17 (255.255.128.0"},{id:"11",value:"18",ip:"18 (255.255.192.0)"},{id:"12",value:"19",ip:"19 (255.255.224.0)"},{id:"13",value:"20",ip:"20 (255.255.240.0)"},{id:"14",value:"21",ip:"21 (255.255.248.0)"},{id:"15",value:"22",ip:"22 (255.255.252.0)"},{id:"16",value:"23",ip:"23 (255.255.254.0)"},{id:"17",value:"24",ip:"24 (255.255.255.0)"},{id:"18",value:"25",ip:"25 (255.255.255.128)"},{id:"19",value:"26",ip:"26 (255.255.255.192)"},{id:"20",value:"27",ip:"27 (255.255.255.224)"},{id:"21",value:"28",ip:"28 (255.255.255.240)"},{id:"22",value:"29",ip:"29 (255.255.255.248)"},{id:"23",value:"30",ip:"30 (255.255.255.252)"},{id:"24",value:"31",ip:"31 (255.255.255.254)"},{id:"25",value:"32",ip:"32 (255.255.255.255)"}],reboot_type:"disable",reboot_week:"sun",reboot_hour:"0",weekArray:[{id:"1",value:"sun",name:"日曜日"},{id:"2",value:"mon",name:"月曜日"},{id:"3",value:"tue",name:"火曜日"},{id:"4",value:"wed",name:"水曜日"},{id:"5",value:"thu",name:"木曜日"},{id:"6",value:"fri",name:"金曜日"},{id:"7",value:"sat",name:"土曜日"},{id:"8",value:"every",name:"毎日"}],ipAddresses:["","","",""],subnet:"",gateway:["","","",""],dns:["","","",""],ntp:"",ssl:"",ssl_enable:"0",apiTokenOrigin:"",apiTokenType:"random",apiToken:"",params:"",confim_content:"",confirm_flag:!1,loading:!1}},mounted(){let e=this;ln.get(location.origin+"/server/backend/basic").then((function(e){console.log(e),this.basic=e.data})),ln.get(location.origin+"/server/backend/system/ipconfig").then((function(a){e.ipAddresses=a.data.address.split("."),e.subnet=a.data.subnet,e.gateway=a.data.gateway?a.data.gateway.split("."):["","","",""],e.dns=a.data.dns?a.data.dns.split("."):["","","",""]})),ln.get(location.origin+"/server/backend/system/rebootSchedule").then((function(a){e.reboot_type=a.data.reboot,"enable"===a.data.reboot&&(e.reboot_week="*"===a.data.week?"every":a.data.week,e.reboot_hour=a.data.hour)})),ln.get(location.origin+"/server/backend/system/ntp").then((function(a){e.ntp=a.data.ntp})),ln.get(location.origin+"/server/backend/system/ssl").then((function(a){e.ssl=a.data,e.ssl_enable=e.ssl.ssl_enable?"1":"0"})),ln.get(location.origin+"/server/backend/facet/apiToken").then((function(a){e.apiTokenOrigin=a.data.api_token})),setInterval((function(){"server"==e.config_type&&ln.get(location.origin+"/server/backend/system/datetime").then((function(e){document.getElementById("system_datetime").textContent=e.data.datetime}))}),1e3)},methods:{allowNum:function(e){if("."==e.data&&4!=e.target.name.split("_")[1]){let a=e.target.name.split("_")[0]+"_"+(Number(e.target.name.split("_")[1])+1);document.getElementsByName(a)[0].focus()}let a=e.target.value.length;if(e.target.value=e.target.value.slice(0,3),3==a&&4!=e.target.name.split("_")[1]){let a=e.target.name.split("_")[0]+"_"+(Number(e.target.name.split("_")[1])+1);document.getElementsByName(a)[0].focus()}},syncDatetime:function(){let e=new Date,a=e.toLocaleString();ln.post(location.origin+"/server/backend/system/datetime",{datetime:a}).then((function(e){document.getElementById("system_datetime").textContent=e.data.datetime})).catch((function(e){alert(e.response.data.msg)}))},confirm:function(e){let a=this;switch(a.confim_content=e.target.id,e.target.id){case"ip":a.params=a.ipUpdate();break;case"ntp":a.params=a.ntpUpdate();break;case"ssl":a.params=!0;break;case"sslEnable":a.params=a.sslEnable();break;case"middleware":a.params=a.updateMiddleware();break;case"rebootM":a.params=!0;break;case"rebootA":a.params=a.execRebootSchedule();break;case"facetUp":a.params=a.updateFacet();break;case"facetLog":a.params=!0;break;case"apiToken":a.params=a.updateApiToken();break;case"exclusive":a.params=!0;break;default:break}a.params&&(a.confirm_flag=!0)},ipUpdate:function(){let e=this;const a=document.facet_admin_form;if(this.release_flag&&"manual"!==a.ip_type.value)return{ip_type:"auto"};{let n=[a.ip_1.value,a.ip_2.value,a.ip_3.value,a.ip_4.value],t=[a.gw_1.value,a.gw_2.value,a.gw_3.value,a.gw_4.value],o=[a.dns_1.value,a.dns_2.value,a.dns_3.value,a.dns_4.value];if(0===n.filter((e=>""!==e)).length)return alert("【IP設定「IPアドレス(IPv4)」】必須項目です"),!1;if(4!==n.filter((e=>""!==e)).length)return alert("【IP設定「IPアドレス(IPv4)」】4つすべて入力してください"),!1;if(""==a.subnet.value)return alert("【IP設定「サブネットマスク」】必須項目です"),!1;if(0===t.filter((e=>""!==e)).length)t=[];else if(4!==t.filter((e=>""!==e)).length)return alert("【IP設定「Gateway」】未入力もしくは4つすべて入力してください"),!1;if(0===o.filter((e=>""!==e)).length)o=[];else if(4!==o.filter((e=>""!==e)).length)return alert("【I設定「DNS」】未入力もしくは4つすべて入力してください"),!1;return e.ipAddresses=n,e.subnet=a.subnet.value,e.gateway=t,e.dns=o,{ip_type:"manual",ip:n,subnet:a.subnet.value,gw:t,dns:o}}},ntpUpdate:function(){let e=this;const a=document.facet_admin_form;return""==a.ntp.value?(alert("【NTP】必須項目です"),!1):a.ntp.value==e.ntp?(alert("【NTP】現在の同期先から変更を行ってください"),!1):{ntp:a.ntp.value}},sslEnable:function(){let e=this;return e.ssl.ssl_enable==e.ssl_enable?(alert("【SSL設定】現在の設定から変更されていません"),!1):{ssl_enable:e.ssl_enable}},rebootHourControl:function(e){e.target.value>23?e.target.value=23:e.target.value<0&&(e.target.value=0)},changeConfigType:function(e){this.config_type=e;const a=e+"Tab";let n=document.getElementsByClassName("tab");for(let t=0;t<n.length;t++)n[t].id!==a?(n[t].classList.add("tab_disable"),n[t].classList.remove("tab_active")):(n[t].classList.remove("tab_disable"),n[t].classList.add("tab_active"))},updateMiddleware:function(){const e=new FormData;return e.append("middleware_file",document.facet_admin_form.middleware_file.files[0]),e},execRebootSchedule:function(){let e,a=document.facet_admin_form;return e="enable"===a.reboot_enable.value?{reboot_enable:a.reboot_enable.value,reboot_week:a.reboot_week.value,reboot_hour:a.reboot_hour.value?a.reboot_hour.value:0}:{reboot_enable:a.reboot_enable.value},e},updateFacet:function(){const e=new FormData;return e.append("facet_file",document.facet_admin_form.facet_file.files[0]),e},updateApiToken:function(){let e,a=document.facet_admin_form;if("manual"===a.apiTokenType.value){let n=a.apiToken.value;64!==[...n].length?(alert("【APIトークンの更新】トークンは64文字で設定してください"),e=!1):n.match(/^[A-Za-z0-9]*$/)?e={apiToken:n}:(alert("【APIトークンの更新】トークンは半角英数字のみで設定してください"),e=!1)}else e={apiToken:""};return e},confirmPermission:function(){return document.getElementById("basicLoginUser").textContent}}};const rn=(0,p.A)(sn,[["render",Da],["__scopeId","data-v-16c435f6"]]);var cn=rn,un={name:"App",components:{MainHeader:f,TopPage:cn},data(){return{loading:!1}}};const dn=(0,p.A)(un,[["render",i]]);var pn=dn,mn=n(8950),fn=n(2353),kn=n(292);mn.Yv.add(fn.X7I);const bn=(0,t.Ef)(pn);bn.component("font-awesome-icon",kn.gc),bn.mount("#app")}},a={};function n(t){var o=a[t];if(void 0!==o)return o.exports;var l=a[t]={exports:{}};return e[t].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(a,t,o,l){if(!t){var i=1/0;for(u=0;u<e.length;u++){t=e[u][0],o=e[u][1],l=e[u][2];for(var s=!0,r=0;r<t.length;r++)(!1&l||i>=l)&&Object.keys(n.O).every((function(e){return n.O[e](t[r])}))?t.splice(r--,1):(s=!1,l<i&&(i=l));if(s){e.splice(u--,1);var c=o();void 0!==c&&(a=c)}}return a}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[t,o,l]}}(),function(){n.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(a,{a:a}),a}}(),function(){n.d=function(e,a){for(var t in a)n.o(a,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};n.O.j=function(a){return 0===e[a]};var a=function(a,t){var o,l,i=t[0],s=t[1],r=t[2],c=0;if(i.some((function(a){return 0!==e[a]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(r)var u=r(n)}for(a&&a(t);c<i.length;c++)l=i[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},t=self["webpackChunkonp"]=self["webpackChunkonp"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=n.O(void 0,[504],(function(){return n(9586)}));t=n.O(t)})();
//# sourceMappingURL=app.a7d5128f.js.map